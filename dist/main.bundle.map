{"version":3,"sources":["webpack:///./src/polyfills.ts?5d2d","webpack:///./src/app/app.component.ts","webpack:///./src/app/pi-data.service.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/chart.component.ts","webpack:///./src/app/index.ts","webpack:///./src/app/kpi.component.ts","webpack:///./src/environments/environment.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/chart.component.css","webpack:///./src/app/kpi.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/chart.component.html","webpack:///./src/app/kpi.component.html"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["// This file includes polyfills needed by Angular and is loaded before the app.\n// You can add your own extra polyfills to this file.\nimport 'core-js/es6/symbol';\nimport 'core-js/es6/object';\nimport 'core-js/es6/function';\nimport 'core-js/es6/parse-int';\nimport 'core-js/es6/parse-float';\nimport 'core-js/es6/number';\nimport 'core-js/es6/math';\nimport 'core-js/es6/string';\nimport 'core-js/es6/date';\nimport 'core-js/es6/array';\nimport 'core-js/es6/regexp';\nimport 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport 'core-js/es6/reflect';\n\nimport 'core-js/es7/reflect';\nimport 'zone.js/dist/zone';\n\n// If you need to support the browsers/features below, uncomment the import\n// and run `npm install import-name-here';\n// Learn more in https://angular.io/docs/ts/latest/guide/browser-support.html\n\n// Needed for: IE9\n// import 'classlist.js';\n\n// Animations\n// Needed for: All but Chrome and Firefox, Not supported in IE9\n// import 'web-animations-js';\n\n// Date, currency, decimal and percent pipes\n// Needed for: All but Chrome, Firefox, Edge, IE11 and Safari 10\n// import 'intl';\n\n// NgClass on SVG elements\n// Needed for: IE10, IE11\n// import 'classlist.js';\n\n\n\n// WEBPACK FOOTER //\n// ./src/polyfills.ts","import { Component, AfterViewInit } from '@angular/core';\r\n\r\nimport {PiDataService} from './pi-data.service';\r\nimport {ChartComponent} from './chart.component';\r\nimport {KPIComponent} from './kpi.component';\r\n\r\n\r\n@Component({\r\n    selector: 'app-root',\r\n    templateUrl: './app.component.html',\r\n    styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent implements AfterViewInit {\r\n\r\n    title = 'Hourly Production';\r\n\r\n    private data1: any;\r\n    private error: any;\r\n    private todayProd: any = {\r\n        title: \"Today's Production\",\r\n        value: \"500\",\r\n        units: \"Tons\"\r\n    }\r\n\r\n    private yesterdayProd: any = {\r\n        title: \"Yesterday's Production\",\r\n        value: \"7,300\",\r\n        units: \"Tons\"\r\n    }\r\n\r\n    private monthlyProd: any = {\r\n        title: \"Monthly Production\",\r\n        value: \"5,400,000\",\r\n        units: \"Tons\"\r\n    }\r\n\r\n    constructor(\r\n        private piDataService: PiDataService\r\n    ){\r\n\r\n    }\r\n    ngAfterViewInit() {\r\n        this.piDataService.getPIData().subscribe(\r\n            response => {\r\n                this.data1 = response.json();\r\n            }, error => {\r\n                this.error = error.json();\r\n            }\r\n        );\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Injectable } from '@angular/core';\r\nimport { Headers, Http, Response } from '@angular/http';\r\nimport { Observable } from \"rxjs\";\r\n\r\n//import 'rxjs/add/operator/toPromise';\r\n//import 'rxjs/add/operator/map';\r\n\r\n@Injectable()\r\nexport class PiDataService {\r\n    private piWebApiURL = 'https://devdata.osisoft.com/piwebapi';\r\nprivate cdt158PlotData = '/streams/P0W6Wlk0_Utku9vWTvxg45oAAwAAAAUElTUlYxXENEVDE1OA/plot';\r\n// data format -----\r\n//{\r\n//  \"Links\": {},\r\n//  \"Items\": [\r\n//    {\r\n//      \"Timestamp\": \"2016-12-14T22:50:07.4432678Z\",\r\n//      \"Value\": 65.13365,\r\n//      \"UnitsAbbreviation\": \"\",\r\n//      \"Good\": true,\r\n//      \"Questionable\": false,\r\n//      \"Substituted\": false\r\n//    },\r\n//    {\r\n//      \"Timestamp\": \"2016-12-15T22:50:08Z\",\r\n//      \"Value\": {\r\n//        \"Name\": \"No Data\",\r\n//        \"Value\": 248,\r\n//        \"IsSystem\": true\r\n//      },\r\n//      \"UnitsAbbreviation\": \"\",\r\n//      \"Good\": false,\r\n//      \"Questionable\": false,\r\n//      \"Substituted\": false\r\n//    }\r\n//    ...\r\n//  \"UnitsAbbreviation\": \"\"\r\n\r\nprivate headers = new Headers({'Content-Type': 'application/json'});\r\nconstructor(private http: Http) { }\r\n\r\ngetPIData(): Observable<any> {\r\n    let username = 'webapiuser';\r\n    let password = '!try3.14webapi!';\r\n\r\n    let headers = new Headers();\r\n    headers.append('Authorization', 'Basic ' + btoa(username + ':' + password));\r\n\r\n    return this.http.get(this.piWebApiURL + this.cdt158PlotData, {headers: headers});\r\n}\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pi-data.service.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 506;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 506\n// module chunks = 2","import './polyfills.ts';\r\n\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\nimport { enableProdMode } from '@angular/core';\r\nimport { environment } from './environments/environment';\r\nimport { AppModule } from './app/';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HttpModule } from '@angular/http';\r\n\r\nimport 'materialize-css';\r\nimport { MaterializeModule } from 'angular2-materialize';\r\nimport { AppComponent } from './app.component';\r\nimport { ChartComponent } from './chart.component';\r\nimport { KPIComponent } from './kpi.component';\r\n\r\nimport { PiDataService } from './pi-data.service';\r\n\r\n\r\n@NgModule({\r\n    declarations: [\r\n        AppComponent,\r\n        ChartComponent,\r\n        KPIComponent\r\n    ],\r\n    imports: [\r\n        BrowserModule,\r\n        FormsModule,\r\n        HttpModule,\r\n        MaterializeModule\r\n    ],\r\n    providers: [PiDataService],\r\n    bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, AfterViewInit, ElementRef, HostListener, Input, OnChanges } from '@angular/core';\r\nimport * as d3 from 'd3';\r\n\r\n@Component({\r\n    selector: 'my-chart',\r\n    templateUrl: './chart.component.html',\r\n    styleUrls: ['./chart.component.css']\r\n})\r\nexport class ChartComponent implements AfterViewInit, OnChanges {\r\n    @Input()\r\n    data: any;\r\n\r\n     title = 'Hourly Production';\r\n     private chart: any;\r\n\r\n\r\n     constructor(\r\n         private elementRef: ElementRef\r\n     ){\r\n\r\n     }\r\n     ngAfterViewInit() {\r\n//         this.chart = d3.select(\".chart\");\r\n//         console.log(\"rect:\",this.chart.node().parentNode.getBoundingClientRect());\r\n//         console.log(\"ngAfterViewInit\");\r\n//         if(typeof this.data !== \"undefined\"){\r\n////             this.drawChart(this.chart, this.data);\r\n//         }\r\n     }\r\n\r\n     ngOnChanges(change: any){\r\n         this.chart  = this.elementRef.nativeElement.querySelector('.chart');\r\n         this.drawChart(this.chart, this.data);\r\n         console.log(\"ngOnChanges\");\r\n     }\r\n\r\n     @HostListener('window:resize', ['$event'])\r\n     onResize(event) {\r\n         this.drawChart(this.chart, this.data);\r\n     }\r\n\r\n    drawChart(container, data){\r\n        //create and size svg container\r\n        let height = Math.trunc( container.clientWidth / 64 * 27);\r\n        let width = Math.trunc(container.clientWidth);\r\n\r\n        console.log(\"w-\" + width + \" h-\" + height);\r\n        let d3Container = d3.select(container);\r\n        d3Container.select(\"svg\").remove();\r\n        let svg = d3Container.append(\"svg\")\r\n        .attr(\"height\", height )\r\n        .attr(\"width\", width);\r\n        svg.append('rect')\r\n            .attr('class', 'chart-background')\r\n            .style('height', height)\r\n            .style('width', width);\r\n\r\n        //set chart bounds\r\n        let margin = {top: 10, right: 10, bottom: 30, left: 36};\r\n        let insideWidth = width - margin.left - margin.right;\r\n        let insideHeight =  height - margin.top - margin.bottom;\r\n        let g = svg.append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n\r\n        if(typeof data === \"undefined\") return;\r\n        //prepare data\r\n        // keep only good data\r\n        let items : any[] = [];\r\n        for(let item of data.Items){\r\n            if(item.Good){\r\n                let d = {value: item.Value, timestamp: new Date(item.Timestamp)};\r\n                items.push(d);\r\n            }\r\n        }\r\n\r\n        //set scales\r\n        let xScale = d3.scaleTime()\r\n        .domain(d3.extent(items, function(d) { return d.timestamp}))\r\n        .rangeRound([0,insideWidth]);\r\n\r\n        let yScale = d3.scaleLinear()\r\n        .domain(d3.extent(items, function(d) { return d.value}))\r\n        .rangeRound([insideHeight,0]);\r\n\r\n        //draw series\r\n        let line = d3.line()\r\n        .x(function(d:any) { return xScale(d.timestamp); })\r\n        .y(function(d:any) { return yScale(d.value); });\r\n\r\n        g.append(\"path\")\r\n            .datum(items)\r\n            .attr(\"class\", \"line\")\r\n            .attr(\"d\", line);\r\n\r\n        //set x-axis\r\n        g.append(\"g\")\r\n            .attr(\"class\", \"axis axis--x\")\r\n            .attr(\"transform\", \"translate(0,\" + insideHeight + \")\")\r\n            .call(d3.axisBottom(xScale)\r\n                 .ticks(Math.trunc(insideWidth/100))\r\n                 );\r\n\r\n        g.append(\"g\")\r\n            .attr(\"class\", \"axis axis--y\")\r\n            .call(d3.axisLeft(yScale)\r\n                  .ticks(Math.trunc(insideHeight/40))\r\n                 )\r\n            .append(\"text\")\r\n            .attr(\"fill\", \"#000\")\r\n            .attr(\"transform\", \"rotate(-90)\")\r\n            .attr(\"y\", 6)\r\n            .attr(\"dy\", \"0.71em\")\r\n            .style(\"text-anchor\", \"end\")\r\n            .text(\"Tons\");\r\n        //label axis\r\n\r\n\r\n\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/chart.component.ts","export * from './app.component';\r\nexport * from './app.module';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/index.ts","import { Component, Input, OnChanges } from '@angular/core';\r\nimport * as d3 from 'd3';\r\n\r\n@Component({\r\n    selector: 'my-kpi',\r\n    templateUrl: './kpi.component.html',\r\n    styleUrls: ['./kpi.component.css']\r\n})\r\nexport class KPIComponent implements OnChanges {\r\n    @Input()\r\n    data: any;\r\n     constructor(){\r\n\r\n     }\r\n\r\n     ngOnChanges(change: any){\r\n         console.log(\"ngOnChanges\");\r\n     }\r\n\r\n    }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/kpi.component.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","module.exports = \"\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = 626\n// module chunks = 2","module.exports = \"* >>> .chart-background{\\r\\n/*\\r\\n    fill: rgb(48,48,48);\\r\\n    stroke: none;\\r\\n    stroke-width: 2px;\\r\\n*/\\r\\n        opacity: 0;\\r\\n\\r\\n}\\r\\n\\r\\n* >>> .line{\\r\\n    fill: none;\\r\\n    stroke: #673ab7;\\r\\n    stroke-width: 2.0px;\\r\\n    opacity: .8;\\r\\n}\\r\\n\\r\\n* >>> .axis path {\\r\\n    fill: none;\\r\\n    stroke: white;\\r\\n    stroke-width: 1.5px;\\r\\n    opacity: .8;\\r\\n\\r\\n}\\r\\n\\r\\n* >>> .axis line {\\r\\n    stroke: white;\\r\\n    stroke-width: 1.5px;\\r\\n    opacity: .8;\\r\\n\\r\\n}\\r\\n\\r\\n* >>> .axis .minor {\\r\\n    stroke: white;\\r\\n    stroke-width: 0.4px;\\r\\n    opacity: .8;\\r\\n\\r\\n}\\r\\n\\r\\n* >>> .axis text {\\r\\n    font-family: Arial,Helvetica,sans-serif;\\r\\n    font-size: 12px;\\r\\n    fill: white;\\r\\n    opacity: .8;\\r\\n\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/chart.component.css\n// module id = 627\n// module chunks = 2","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/kpi.component.css\n// module id = 628\n// module chunks = 2","module.exports = \"<div class=\\\"black\\\">\\r\\n\\r\\n    <div class=\\\"navbar-fixed\\\">\\r\\n        <nav class=\\\"blue-grey darken-4\\\">\\r\\n            <div class=\\\"nav-wrapper container gray\\\">\\r\\n                <a href=\\\"#\\\" class=\\\"brand-logo\\\">Main Belt Mining Company</a>\\r\\n                <ul id=\\\"nav-mobile\\\" class=\\\"right hide-on-med-and-down\\\">\\r\\n                    <li><a href=\\\"#\\\">Login</a></li>\\r\\n                </ul>\\r\\n            </div>\\r\\n        </nav>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"container\\\" >\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col s12 m4\\\">\\r\\n                <my-kpi [data]=\\\"todayProd\\\"></my-kpi>\\r\\n            </div>\\r\\n            <div class=\\\"col s12 m4\\\">\\r\\n                <my-kpi [data]=\\\"yesterdayProd\\\"></my-kpi>\\r\\n            </div>\\r\\n            <div class=\\\"col s12 m4\\\">\\r\\n                <my-kpi [data]=\\\"monthlyProd\\\"></my-kpi>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"card-panel blue-grey darken-4\\\">\\r\\n                <h5 class=\\\"blue-grey-text text-lighten-5\\\">\\r\\n                    {{title}}\\r\\n                </h5>\\r\\n                <div>\\r\\n                    <my-chart [data]=\\\"data1\\\"></my-chart>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <footer class=\\\"page-footer blue-grey darken-4\\\">\\r\\n        <div class=\\\"container\\\">\\r\\n\\r\\n        </div>\\r\\n        <div class=\\\"footer-copyright\\\">\\r\\n            <div class=\\\"container\\\">\\r\\n                Made by <a class=\\\"deep-purple-text text-darken-2\\\" href=\\\"http://lonniebowling.com\\\">Lonnie A. Bowling</a>\\r\\n            </div>\\r\\n        </div>\\r\\n    </footer>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 629\n// module chunks = 2","module.exports = \"<div>\\r\\n    <div class=\\\"chart\\\"></div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/chart.component.html\n// module id = 630\n// module chunks = 2","module.exports = \"<div class=\\\"card-panel blue-grey darken-4\\\">\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"center deep-purple-text text-deep-purple-darken-4\\\">\\r\\n            <i class=\\\"material-icons medium\\\">insert_chart</i>\\r\\n            <span class=\\\"flow-text blue-grey-text text-lighten-5\\\" style=\\\"vertical-algin:middle;\\\">{{data.title}}</span>\\r\\n        </div>\\r\\n\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <h3 class=\\\"center blue-grey-text text-lighten-5\\\">{{data.value}}</h3>\\r\\n\\r\\n\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/kpi.component.html\n// module id = 631\n// module chunks = 2"],"sourceRoot":""}